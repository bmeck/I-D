<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-ietf-dispatch-javascript-mjs-00" category="info" updates="4329">

  <front>
    <title>ECMAScript Media Types Updates</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>
    <author initials="M." surname="Miller" fullname="Matthew A. Miller">
      <organization>Mozilla</organization>
      <address>
        <email>linuxwolf+ietf@outer-planes.net</email>
      </address>
    </author>

    <date year="2017"/>

    <area>ART</area>
    <workgroup>DISPATCH</workgroup>
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes updates to the ECMAScript media types, superseding the existing registrations for “application/javascript” and “text/javascript” by adding an additional extension and removing usage warnings.  This document updates RFC4329, “Scripting Media Types”.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bmeck/I-D/labels/javascript-mjs">https://github.com/bmeck/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bmeck/I-D/tree/master/javascript-mjs">https://github.com/bmeck/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bmeck/I-D/commits/master/javascript-mjs">https://github.com/bmeck/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates the existing media types for the ECMAScript programming language. It supersedes the media types registrations in <xref target="RFC4329"/> for “application/javascript” and “text/javascript”.</t>

</section>
<section anchor="background" title="Background">

<t>In order to formalize support for modular programs <xref target="ECMA-262"/> now defines two top-level goal symbols for the ECMAScript grammar. This means that (in the absence of additional information) there are two possible interpretations for any given ECMAScript Source Text. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"/>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"/>. Finally, the <xref target="HTML"/> specification is using text/javascript as the default media type of ECMAScript when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  text</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.1 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;</t>
</list></t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  application</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.2 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;.</t>
</list></t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262.htm">
  <front>
    <title>Standard ECMA-262: ECMAScript Language Specification</title>
    <author >
      <organization>Ecma International</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>

    <references title='Informative References'>

<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>


<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
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

-->

</rfc>

