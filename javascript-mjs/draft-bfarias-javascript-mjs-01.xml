<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-bfarias-javascript-mjs-02" category="info" updates="4329">

  <front>
    <title>ECMAScript Media Types Updates</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>
    <author initials="M." surname="Miller" fullname="Matthew A. Miller">
      <organization>Mozilla</organization>
      <address>
        <email>linuxwolf+ietf@outer-planes.net</email>
      </address>
    </author>

    <date year="2017"/>

    <area>ART</area>
    
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes updates to the ECMAScript media types, superseding the existing registrations for “application/javascript” and “text/javascript” by adding an additional extension and removing usage warnings.  This document updates RFC4329, “Scripting Media Types”.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bfarias/I-D/labels/javascript-mjs">https://github.com/bfarias/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bfarias/I-D/tree/master/javascript-mjs">https://github.com/bfarias/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bfarias/I-D/commits/master/javascript-mjs">https://github.com/bfarias/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates the existing media types for the ECMAScript programming language. It supersedes the media types registrations in <xref target="RFC4329"/> for “application/javascript” and “text/javascript”.</t>

</section>
<section anchor="background" title="Background">

<t>In order to formalize support for modular programs <xref target="ECMA-262"/> now defines two top-level goal symbols for the ECMAScript grammar. This means that (in the absence of additional information) there are two possible interpretations for any given ECMAScript Source Text. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"/>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"/>. Finally, the <xref target="HTML"/> specification is using text/javascript as the default media type of ECMAScript when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  text</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.1 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;</t>
</list></t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  application</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.2 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;.</t>
</list></t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262.htm">
  <front>
    <title>Standard ECMA-262: ECMAScript Language Specification</title>
    <author >
      <organization>Ecma International</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>

    <references title='Informative References'>

<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>


<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
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
8QgU7sdFGamLm28GzwfJH9JOkphOFwAA

-->

</rfc>

