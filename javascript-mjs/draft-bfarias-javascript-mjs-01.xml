<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-bfarias-javascript-mjs-01" category="info" updates="4329">

  <front>
    <title>ECMAScript Media Types Updates</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>
    <author initials="M." surname="Miller" fullname="Matthew A. Miller">
      <organization>Mozilla</organization>
      <address>
        <email>linuxwolf+ietf@outer-planes.net</email>
      </address>
    </author>

    <date year="2017"/>

    <area>ART</area>
    
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes updates to the ECMAScript media types, superseding the existing registrations for “application/javascript” and “text/javascript” by adding an additional extension and removing usage warnings.  This document updates RFC4329, “Scripting Media Types”.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bmeck/I-D/labels/javascript-mjs">https://github.com/bmeck/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bmeck/I-D/tree/master/javascript-mjs">https://github.com/bmeck/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bmeck/I-D/commits/master/javascript-mjs">https://github.com/bmeck/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates the existing media types for the ECMAScript programming language. It supersedes the media types registrations in <xref target="RFC4329"/> for “application/javascript” and “text/javascript”.</t>

</section>
<section anchor="background" title="Background">

<t>In order to formalize support for modular programs <xref target="ECMA-262"/> now defines two top-level goal symbols for the ECMAScript grammar. This means that (in the absence of additional information) there are two possible interpretations for any given ECMAScript Source Text. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"/>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"/>. Finally, the <xref target="HTML"/> specification is using text/javascript as the default media type of ECMAScript when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  text</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.1 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;</t>
</list></t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  application</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.2 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;.</t>
</list></t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262.htm">
  <front>
    <title>Standard ECMA-262: ECMAScript Language Specification</title>
    <author >
      <organization>Ecma International</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>

    <references title='Informative References'>

<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>


<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
H4sIAMrynlkAA+1YYXMTORL9Pr9CFaruoDZjk4S9PXxbW5hgltzFZC82xV7B
FquZkcciM9KcpIkxFP99X7fG9jiEhbqPV+RDMvZIrdfdr1+3kqZpEnSo1EhM
TqfjWe50E8RUFVqK+bpRXrxoChmUT2SWOXU9SgqbG1ljfeHkIqTZQjotffpW
XkvPu9P6rU/vHyW0bSSO7x/9kOR4LK1bj4Q2C5skunGjRDolR2J8OU9W1l2V
zrbNKLlSa3wqRuLMBOWMCukTOiZpI4qReHBy/DBJfJCmeCMra3CEsUmjR+JV
sPmhwC9tCmXCofDWBacWHk/runsITud4ldu6kd1DjcV4pU2ljfotSWQblhb4
RJoI/GiDUx8PxFP2k7+K/j92sqjUuv/CulIa/V4Gbc2Iv1G11NVIZHHtoFb5
1aOSvhvgZF7ROr1/1nQgprqqlOudNZUhLNVKjPfe7R0npvY9Xsn+sfCofbey
1eI7rcLikW0R07SppFF+gNgmibGuxvZrRWgvn55SdLvH46OjzePJ/eOTUYJn
okh6/Lfj6Ns2UKIDAw7ltexSx6hkxW87hh3MKG3SFTtDfdadS1O2slRi1qhc
L3TOJg7YQiTTuC1bHyKn2K50pQojsQyhGQ2Hq9VqoIAg1X0EAyAbNm1WdQb9
0Hcw/JDwEo7BMtSgJci5jQcOeDafnn/W1ZfPxvOXP/fdo+XiXF9rU4qNp18J
3gM9IFQDD9cHq6UMq5Jx120VdIOgDGNxwTZhre40TjWooFSm8QXhnZ+ePEyn
Z9NJejabvZh8Fjqt28vLuCjE77JpNiEa7qr5u9oWbaV+F7WuFapLOFXbayVk
nemy1WH9/dcmiHxcqWwgXb5EhNk9fB7S4vt/P3pw9PDk4dHxcLO01GHZZlQm
w5CfPBxSYpGpofa+VX54cnycJEmapkJmqGoUc5LMl9oL6FNLJS0aZxvroWCd
dhB4FFGfcTXrXCCdgza0jXIe3yB9tE69057iDY9LTUcweQQoIg5uj9WBQNLF
QVDvwt632VrIgu1Kw0+RmDghKOPxzPs4sLSo9VQEK+kMPvkB8rrn18adrlwP
UVYbavSF+2AQw2NsUG+e069g31wqWcBJCpUSMZIQCWSMvAp8DMmtyAE0U/i2
BTAZxI+3ZCUjMRuepU+GlcxU5Yf7LeCnQTyltjDvVE7Q79oFPD4UreF69EtV
3OtOxNFfPAdqroa19CjuWw67jGfkS8gI3EJxsGvqKxygLqCD/7xtCmStC2g4
SHeHFM6hLHLK403abdnWp1CPaF2o93gIqpZOAgOWVp0KDsRZ2HKys9c3s89K
bcSHDx0jPn78H0g6YMcey5w7sSmS5MxALcAWqhvWxUq/V4SoQV/lE1gapNvA
94CwEXZgMHYlCrVAUwX4FWrPNmmlrlUlSgvyoydntro1HBwL6QaR+LWShtxH
Fu/CTVqLklcmV8Iu+uW0lW9r7tEyEIBIQGdDCLzOKnCeOgO0M/SqWZq1KKFI
po9hZluHE+YIE+FQLJpi2zlEZos17+7tWUrwQOEAJBK0Y8j9lBEa9GCvC4YO
iNoJn9uGP9IUhAjeEPGPH5GZM64PVPLOEUpKW1Xr3YFCIxp93GS0h64LZaCt
qG10DxBLdBGdssoj4WI/B5wreCtpbdtAqnKLEMIKD18cGoxW1ikI6FaGlLnW
zhqerERNHaH17DpByoh/vVwRhC3Rdt5QE4xM2XfKL21bFeQB5EByeUMj5zbK
l4Jtb9GpPgNmKdG78iX6gqHjZGHhqxQGs9VCV6onyUA6QPVzjjeoNq2BYRH5
Ot70ycJ1BL3tpg9xag2WMNuiIGLEpVyDQwfTF7P5wWH8K55f8PPl5N8vzi4n
T+h59mx8fr592KyYPbt4cf5k9xS/T7Dz9GI6nTx/EjdPx//BHy72i1/mZxfP
x+cHMd19ueIKYUJsS4NDCp8phBlTJGFtoYmQ6QgHL3vqE926va327EdhLOhT
Y3XkISJvTYr4FIiy78a+bZWhT8Qtvj8Q7tMaMrnrqYd/nkrtOyhYH4FQMrn/
Ycn+Ji9W6BS8wKl4bSBTXNM6RFLn1uEdimJrqyujTfHAal8ScYnQoES1PuTF
Hz7QxAil3HcPKFvPTNuXaEoKbYOmSkyFvSjfKPTVEpSM8yGZ6XYHWfp/RFmM
5XrTPKlXprCV5ruC6WAoTHEcWThbi4vHs4vzyXxC7hLXLp4zG+7ctAVGECy+
uyTJiF8nyazNwt7X/Q2X6r+tdjgOqPEeVPS8BvxAz71oumq68RbNHipGdz2F
klcxRw8GRzHy234IlBOTWx7BoF8kwF3jZCtEXw+zmwjvL6Ga2Zg+6ZmmWxGb
nqkcl7iwvs30rIfr+09R8VUJ+u9kpqs/MUFDHAO5Rk5t6zc2/U2Tm5a5pUZh
VewckWTrqF+385NUugCqXzbD2T4zGc3rV69f4bhf8fMbLsvj3YyBilnqfMlS
H/ZRRD+6NrSVGedZZ7TPW9+1ov3ojG/t7WxsKksIhWnrTLm7/h5f10CWoaSH
p3uVvHs9eIsxn5SAPk5lDijWL+NyJuypLdRu+Xzy6xzBAE4k7y/xTk3SgZpn
IaFOiHsHd4hF66i0PsFJyRvzDeyvXoy7vV3yuvzviox3xLqigtiqDrJseiuI
rjcUjuWNNWnX2TsR+aIqIc7dFfHLeE95uGbPnaX/Q/Cms8nsZ/H6R618+Yj+
0UBXu9c/RWW4fQi9KRC9Vf8nOnH8TSe+6cQ3nfiiTmxu1xlunjxZjvMr3Bwr
VZSKR3aaLqW54kjOWpyzFP9yYJ2RGPfGlXqHcXqqKqOv7PUhsoVLFKZvmvyX
sj4U/0S9ejEzqqoOP/03KiwUshaXVubLOCuP8bURL7Vb+PSxs/kVp61sdRHv
8QgU7sflMlIXN98cng+SPwDskqiCSBcAAA==

-->

</rfc>

