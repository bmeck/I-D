<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-bfarias-json-home-00" category="info">

  <front>
    <title>.mjs File Extension for EcmaScript</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>

    <date year="2017"/>

    <area>General</area>
    
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes updates to the EcmaScript media types, superseding the existing registrations for “application/javascript” and “text/javascript” by adding an additional extension and removing usage warnings.  This document updates <xref target="RFC4329"/>.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bfarias/I-D/labels/javascript-mjs">https://github.com/bfarias/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bfarias/I-D/tree/master/javascript-mjs">https://github.com/bfarias/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bfarias/I-D/commits/master/javascript-mjs">https://github.com/bfarias/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates the existing media types for the ECMAScript programming language. It supersedes the media types registrations in <xref target="RFC4329"/> for “application/javascript” and “text/javascript”.</t>

</section>
<section anchor="background" title="Background">

<t>In order to formalize support for modular programs <xref target="ECMA-262"/> now defines two top-level goal symbols for the ECMAScript grammar. This means that (in the absence of additional information) there are two possible interpretations for any given ECMAScript Source Text. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"/>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"/>. Finally, the <xref target="HTML"/> specification is using text/javascript as the default media type of EcmaScript when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  text</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.1 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;</t>
</list></t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  application</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.2 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;.</t>
</list></t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262.htm">
  <front>
    <title>Standard ECMA-262: ECMAScript Language Specification</title>
    <author >
      <organization>Ecma International</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>



<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
H4sIALJEk1kAA+1XbXPbuBH+zl+BcWbaZGpKsZ1rG/Xm5hRHSdxa8dVyJtdJ
bnIgCZGISYAFQCu6zP33PrugJMrnXNJ+7MQfZJBcLPbl2WcXaZomQYdaTcSo
ee/FM10rMfsQlPHaGrG0TszyRi5yp9uQyCxz6maSFDY3ssGewsllSLOldFr6
9L23Jq1so9KHD5NCBggcPzz6S5JjWVq3nghtljZJdOsmiXRKTsRzZZSTdbKy
7rp0tmsnybVa46mYiDMTlDMqpE/plCTxQZrinaytgWJjk1ZPxJtg80OBH20K
ZcKh8NYFp5Yeq3XTL4LTOT7ltmllv2ggjE/a1Nqon5JEdqGysEqkicCfNn4i
nozEM3aMX0WHnzhZ1Go9/GBdKY3+RQYEbMJvVCN1PRFZlB01Kr/+vqR3I5zM
Ep3TkyQx1jXYdqNo2+Wz00cnx4/75fHR0WZ58vD4BMJCzE7n0/T4z8fxkK3F
ojdiwpnqo8bWIK70rc/vwYLiJ12xU8SrmFtxLk3ZyVKJRatyvdQ5qzhgDTGX
067sfIgpZb3SlSpMRBVCOxmPV6vVSMGCVA8tGMGycdtlda/Qj31vhh+TvWTH
qAoNOXh1evI4nZ/NZ+nZYvFq9kk/SW7Ps2lRiJ9l224OGb+XN9KzX39qbNHV
6mfR6EYBKMKpxt4oIZtMl50O62++1EVPPqpsJF1eIWfsGJ7HJPzwr0ePjh6f
PD46Hm9ESx2qLqOMj0N+8nhMoYGvY+19p/z45PiYXH5xNT//pJ+vX0yvXj8f
ekri4lzfaFOKTTr/C/MR53rkkd/RqpJhVbIPTVcH3SLz4xgx6KaE1Pdap1pU
aSrT+CFJ0jQVMkM9oYyS5KrSXoAKOiom0TrbWq+86FoyxlOsQ6UG9CEaVWgp
wrpVVJVdq5zHG7hCcuqD9nQ2ElRqOoLRwgx0cHdqDwQCIA6C+hD23mZrIQvW
Kw2vIhJxwobWaB/jgIQ6T6hfSWfw5EeA4Z5fG3c+fuwr9NdfRzESxgb17iX9
BPvuUskC/lBUlIg5FjX8YAcCayQWEzlsyhTedrBBBvHtHXjp+XR8lj4d1zJT
tR/4l4KmvxvFcxqLA5zKyc77dgn3DkVnuNp8pYoH/Zk4/AtOAm2qcSM9iveO
4y7jKXkFmoBrwAW7p77ICSJcHfyntVM4G12ALpMkuUcc5lC2OSXuNs628Bpi
ZoCsPuBqyG3AZukkbIBo3fPcSJyFLQh7fUM1+zDUZgiA/wGVI3bsicy5zZki
Sc4MqhyYoUJZUieo9S+KLGrRwvgEpi7pNuYTBjfUDRuMXYlCLdG/YPwKxWbb
tFY3qhalBdrR/jJb3xkOjoV0o4j0RklD7iOP9+EmyaLGlcmVsMth/VDz5oZl
zQMSAwQIBnQ2Kt/rDKMDcz+IIwzKV5q1KMGYZmjDwnYOJ1whTGSHYlIX294g
Mlus4/ix21NJ4EDhACQSwGOThykja2wXvC7YdJionfC5bfmRRgxE8FaT4Wo+
4xpBPe8coaR0db3eHSg0ojG0m5QOrOtDGWgrKhzUCWCJPqJz7kJIuNjPAecK
3kqS7VpwU24RQmjhOYdDgynGOgXG3NCzUOZGO2t4iBENUX7n2XUyKSP8DXJF
JmyBtvOGOkBEyr5TvrJdXZAHIATJBQ5SvLKRxBR0e0x4nzKmkuiteYVGYOg4
WVj4KoVRK7Gk0XLHwbCUJ07K8caqTS9gswh8PW6GYOE6Auv284U4tQYijLZI
ipgfKdfA0MH81eLq4DD+Fy8veH05++ers8vZU1ovXkzPz7eLjcTixcWr86e7
VXyfYOfpxXw+e/k0bp5P/4V/XOwXP1ydXbycnh/EdA/piiuEAbEtDQ4pfKYQ
ZgyRhLmFZj6GIxy8HLBPdGuAtNuYj/ojMRb01FodcYjIYyRHfApE2feD3bbK
0CviFj8c+fZhDZrcNdHD30+l9r0pkI+GUDK5C0Jkf5MXK/QKFnAqTuikimta
hwjq3Dp8Q1FsdfVltCkeaB1SIuZ1DUjU60MW/viRxiUw5b57sLLzjLR9iqak
0DZwqsRINIgyR2Q3xqwqQDIOR6Sm3x1k6f8WaTGW6231xF6ZwlaaPwuGg6Ew
xflj6WwjLp4sLs5nVzNyl7B28ZLRcO+2LiCCzOIrSZJM+HOSLLos7L0ebrhU
/+60w3GwGt8BRc8ywAd67kXbV9Otr2j3YDG6VimUvIo5ejQ6ipEfDkQzk1ue
ucBfRMB942QtBF8PtZsI74tQzWxUnwxU072HVS9UjvtSWN+lejGw65vfWsWX
IfC/k5muf0cFjXJsyA1yaju/0elvq9y0zC00Cqti54ggW0f+uhufxNIFrPph
M6DtI5Otefvm7Rsc9yP+fsK9dLqbMVAxlc4rpvqwb0X0o29DW5pxnnlG+7zz
fSvaj870zt7OyuayBFGYrsmUu+8f8P0TYBlLWjzbq+Td59F7zPXEBPQ4l7iT
B+urKM6APbWF2olfzX68QjBgJ5L3h3hrJupAzTORUCfERYM7xLJzVFq/sZOS
N+Wb0x+9mPZ7++T1+d8VGe+IdUUFsWUdZNkMJAiutxiO6Y05adfZexL5LCsh
zv3V7vP2nvJ4zZ47W9cqbjqbLZ6Lt99q5cvvtQpLura9/S4yw91D6G2CGEj9
n/DE8Vee+MoTX3niszyxuV1nuHnyZDnNr3FzrFVRKh7ZabqU5pojuehwTiX+
4YA6IzHuTWv1AeP0XNVGX9ubQ2QLlyhM3zT5V7I5FH9HvXqxMKqu6WuAnysx
HYm5JrOgoZCNuLQyr+KsPMVrI15rt/TpE2fza05b2eki3uMRKNyPyypCFzff
HJ6Pkv8AdLOfPagWAAA=

-->

</rfc>

