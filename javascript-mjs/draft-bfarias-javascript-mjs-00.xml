<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-bfarias-json-home-00" category="info" updates="4329">

  <front>
    <title>EMCAScript Media Types Updates</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>
    <author initials="M." surname="Miller" fullname="Matthew A. Miller">
      <organization>Mozilla</organization>
      <address>
        <email>linuxwolf+ietf@outer-planes.net</email>
      </address>
    </author>

    <date year="2017"/>

    <area>ART</area>
    
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes updates to the ECMAScript media types, superseding the existing registrations for “application/javascript” and “text/javascript” by adding an additional extension and removing usage warnings.  This document updates RFC4329, “Scripting Media Types”.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bfarias/I-D/labels/javascript-mjs">https://github.com/bfarias/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bfarias/I-D/tree/master/javascript-mjs">https://github.com/bfarias/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bfarias/I-D/commits/master/javascript-mjs">https://github.com/bfarias/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates the existing media types for the ECMAScript programming language. It supersedes the media types registrations in <xref target="RFC4329"/> for “application/javascript” and “text/javascript”.</t>

</section>
<section anchor="background" title="Background">

<t>In order to formalize support for modular programs <xref target="ECMA-262"/> now defines two top-level goal symbols for the ECMAScript grammar. This means that (in the absence of additional information) there are two possible interpretations for any given ECMAScript Source Text. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"/>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"/>. Finally, the <xref target="HTML"/> specification is using text/javascript as the default media type of ECMAScript when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  text</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.1 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;</t>
</list></t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  application</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.2 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;.</t>
</list></t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262.htm">
  <front>
    <title>Standard ECMA-262: ECMAScript Language Specification</title>
    <author >
      <organization>Ecma International</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>

    <references title='Informative References'>

<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>


<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
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
ZauLeI9HoHA/XpYRurj55vB8kPwBkDmjo0kXAAA=

-->

</rfc>

