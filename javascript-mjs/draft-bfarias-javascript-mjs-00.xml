<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-bfarias-json-home-00" category="info">

  <front>
    <title>.mjs File Extension for EcmaScript</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>

    <date year="2017"/>

    <area>General</area>
    
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes updates to the EcmaScript media types, superseding the existing registrations for “application/javascript” and “text/javascript” by adding an additional extension and removing usage warnings.  This document updates <xref target="RFC4329"/>.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bfarias/I-D/labels/javascript-mjs">https://github.com/bfarias/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bfarias/I-D/tree/master/javascript-mjs">https://github.com/bfarias/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bfarias/I-D/commits/master/javascript-mjs">https://github.com/bfarias/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates the existing media types for the ECMAScript programming language. It supersedes the media types registrations in <xref target="RFC4329"/> for “application/javascript” and “text/javascript”.</t>

</section>
<section anchor="background" title="Background">

<t>In order to formalize support for modular programs <xref target="ECMA-262"/> now defines two top-level goal symbols for the ECMAScript grammar. This means that (in the absence of additional information) there are two possible interpretations for any given ECMAScript Source Text. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"/>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"/>. Finally, the <xref target="HTML"/> specification is using text/javascript as the default media type of EcmaScript when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t>Type name:               text
Subtype name:            javascript
Required parameters:     none
Optional parameters:     charset, see section 4.1 of <xref target="RFC4329"/>.
Encoding considerations:
  The same as the considerations in section 3.1 of <xref target="RFC3023"/>.</t>

<t>Security considerations: See section 5 of <xref target="RFC4329"/>.
Interoperability considerations:
  See notes in various sections of <xref target="RFC4329"/>.
  This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>

<t>Published specification: <xref target="ECMA-262"/>
Applications which use this media type:
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>

<t>Additional information:</t>

<t>Magic number(s):             n/a
  File extension(s):           .js, .mjs
  Macintosh File Type Code(s): TEXT</t>

<t>Person &amp; email address to contact for further information:
  See Author’s Address section.</t>

<t>Intended usage:          COMMON
Restrictions on usage:   The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/>
Author:                  See Author’s Address section.
Change controller:       The IESG.</t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t>Type name:               application
Subtype name:            javascript
Required parameters:     none
Optional parameters:     charset, see section 4.1 of <xref target="RFC4329"/>.
Encoding considerations:
  The same as the considerations in section 3.2 of <xref target="RFC3023"/>.</t>

<t>Security considerations: See section 5 of <xref target="RFC4329"/>.
Interoperability considerations:
  See notes in various sections of <xref target="RFC4329"/>.
  This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>

<t>Published specification: <xref target="ECMA-262"/>
Applications which use this media type:
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>

<t>Additional information:</t>

<t>Magic number(s):             n/a
  File extension(s):           .js, .mjs
  Macintosh File Type Code(s): TEXT</t>

<t>Person &amp; email address to contact for further information:
  See Author’s Address section.</t>

<t>Intended usage:          COMMON
Restrictions on usage:   The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/>
Author:                  See Author’s Address section.
Change controller:       The IESG.</t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262.htm">
  <front>
    <title>Standard ECMA-262: ECMAScript Language Specification</title>
    <author >
      <organization>Ecma International</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>



<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
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

-->

</rfc>

