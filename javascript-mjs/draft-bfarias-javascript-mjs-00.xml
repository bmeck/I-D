<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-bfarias-json-home-00" category="info">

  <front>
    <title>.mjs File Extension for EcmaScript</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>

    <date year="2017"/>

    <area>General</area>
    
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes updates to the EcmaScript media types, superseding the existing registrations for “application/javascript” and “text/javascript” by adding an additional extension and removing usage warnings.  This document updates <xref target="RFC4329"/>.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bfarias/I-D/labels/javascript-mjs">https://github.com/bfarias/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bfarias/I-D/tree/master/javascript-mjs">https://github.com/bfarias/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bfarias/I-D/commits/master/javascript-mjs">https://github.com/bfarias/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates the existing media types for the ECMAScript programming language. It supersedes the media types registrations in <xref target="RFC4329"/> for “application/javascript” and “text/javascript”.</t>

</section>
<section anchor="background" title="Background">

<t>In order to formalize support for modular programs <xref target="ECMA-262"/> now defines two top-level goal symbols for the ECMAScript grammar. This means that (in the absence of additional information) there are two possible interpretations for any given ECMAScript Source Text. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"/>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"/>. Finally, the <xref target="HTML"/> specification is using text/javascript as the default media type of EcmaScript when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  text</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.1 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;</t>
</list></t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  application</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.2 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;.</t>
</list></t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262.htm">
  <front>
    <title>Standard ECMA-262: ECMAScript Language Specification</title>
    <author >
      <organization>Ecma International</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>

    <references title='Informative References'>

<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>


<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
H4sIAI5Tk1kAA+1XYXPbuBH9zl+BcWbaZGpKsZ1rG/Xm5hRHSdxa8dVyJtdJ
bnIgCZGISYAHgFZ0mfvvfbugJMrnXDL92Ek+OBQJLN7uvn27SNM0CTrUaiJG
zXsvnulaidmHoIzX1oildWKWN3KRO92GRGaZUzeTpLC5kQ32FE4uQ5otpdPS
p++9NWllG5U+fJgUMmDB8cOjvyU5Hkvr1hOhzdImiW7dJJFOyYl4roxysk5W
1l2XznbtJLlWa/wqJuLMBOWMCulTOiVJfJCmeCdra2DY2KTVE/Em2PxQ4I82
hTLhUHjrglNLj6d10z8Ep3N8ym3Tyv6hwWJ80qbWRv2UJLILlQUqkSYC/7Tx
E/FkJJ6xY/wqOvzEyaJW6+EH60pp9K8yIGATfqMaqeuJyOLaUaPy6+9LejfC
ybyic3qSJMa6BttuFG27fHb66OT4cf94fHS0eTx5eHyCxULMTufT9Pivx/GQ
LWLRg5hwpvqoMRrElb71+T1YUPykK3aG+CnmVpxLU3ayVGLRqlwvdc4mDthC
zOW0KzsfYkrZrnSlChNRhdBOxuPVajVSQJDqIYIRkI3bLqt7g37sexh+THgJ
x6gKDVgBbmzjgQNeXM3PP+nq6xfTq9fPh+7RcnGub7QpxcbTLwTvgR4Q6pGH
66NVJcOqZNxNVwfdIihjz0GCbcJa32udakHgVKbxA+G9Oj15nM7P5rP0bLF4
NfskdFq3l5dpUYifZdtuQjR+L29ktPuXxhZdrX4WjW4UaC6cauyNErLJdNnp
sP7mSxNEPq5UNpIurxBhdg+/x7T44d+PHh09Pnl8dDzeLC11qLqM+DoO+cnj
MSUWmRpr7zvlxyfHx0mSpGkqZIbyQlUlyVWlvYAydFRbonW2tV550bUEzhP4
UKmBmohGFVqKsG4VFWnXKufxBumjdeqD9hRveFxqOoLJw4J0cHesDgSSLg6C
+hD23mZrIQu2Kw0/RWLihI3K0T4OLC3qPBXBSjqDX36EvO75tXHn48e+YH/7
bRQjYWxQ717Sn2DfXSpZwB+KihIxaKKGH+xAYIskaiIHpkzhbQcMMohv70hA
L6/js/TpuJaZqv3AvxSq/d0ontNYHOBUTjjv2yXcOxSd4eLzlSoe9Gfi8C84
CSqqxo30qOU7jruMp+QVVAOuoRbYPfVFTpD+6uA/bZ3C2egC6gmW3SNJc6iD
nBJ3m2dbeg05M2BWH3A1lDpws3QSGLC07mVvJM7CloS9vaGZfRpqMyTA/8DK
ETv2RObc9UyRJGcG8gDOUKGwENb6V0WIWnQ0PoG1QLoNfOLgRsmBwdiVKNQS
7QzgVyg226a1ulG1KC3Yjm6Y2frOcHAspBtFpjdKGnIfebwPN2ktalyZXAm7
HNbPVq+teUDLQAGiAZ2Nyvc6wyTBrQBiGQblK81alJAgM8SwsJ3DCVcIE+FQ
rJJi2ypEZot1nEZ2eyoJHigcgESCeAx5mDJCY7vgdcHQAVE74XPb8k+aOBDB
W6rN1XzGNYJ63jlCSenqer07UGhEY4ibjA7Q9aEMtBUVjnYBYok+onOWdSRc
7OeAcwVvJa3tWmhTbhFCWOGxh0ODocY6BcXctCShzI121vBMIxpqAZ1n1wlS
Rvwb5IogbIm284a6XmTKvlO+sl1dkAcQBMkFDlG8slHEFGx7DHyfAlNJNKu8
QiMwdJwsLHyVwqiVWNKkudNgIOUBlHK8QbXpBQyLyNfzZkgWriOobj9uiFNr
sITZFkUR4yTlGhw6mL9aXB0cxv/Fywt+vpz9+9XZ5ewpPS9eTM/Ptw+bFYsX
F6/On+6e4vsEO08v5vPZy6dx83z6H/zHxX7xw9XZxcvp+UFM91CuuEKYENvS
4JDCZwphxhRJWFtoBGQ6wsHLgfpEtwZMu835aD8KY0G/WqsjDxF5TOiIT4Eo
+37O21YZekXc4ocT4D6tIZO7Jnr4x6nUvoeC9REIJZO7IJbsb/JihV7BC5yK
AzuZ4prWIZI6tw7fUBRbW30ZbYoHVoeSiPFdgxL1+pAXf/xIIyKUct89oOw8
M21foikptA2aKjEGDqLMEdmNMasKlIwDIZnpdwdZ+n9EWYzlets8qVemsJUG
uoLpYChMcf5YOtuIiyeLi/PZ1YzcJa5dvGQ23LttC4wgWHxDSZIJf06SRZeF
vdfDDZfql047HAfU+A4qel4DfqDnXrR9Nd36inYPFaNblkLJq5ijR6OjGPnh
QDQzueWZC/pFAtw3TrZC9PUwu4nw/hKqmY3pk4Fpugax6YXKcX0K67tMLwa4
vvk9Kr4bQf+dzHT9ByZolGMgN8ip7fzGpr9tctMyt9QorIqdI5JsHfXrbn6S
ShdA9cNmQNtnJqN5++btGxz3I/79hGvqdDdjoGIqnVcs9WEfRfSjb0NbmXGe
dUb7vPN9K9qPzvTO3s7G5rKEUJiuyZS77x/w/QxkGUt6eLZXybvPo/eY60kJ
6Odc4ooerK/icibsqS3UbvnV7McrBAM4kbw/xUs0SQdqnoWEOiEuGtwhlp2j
0vodTkrelK9cf/Zi2u/tk9fnf1dkvCPWFRXEVnWQZTNYQXS9pXAsb6xJu87e
i8hnVQlx7u+En8d7yuM1e+5sXau46Wy2eC7efquVL7/XKizpLvf2u6gMdw+h
twVisOr/RCeOv+rEV534qhOf1YnN7TrDzZMny2l+jZtjrYpS8chO06U01xzJ
RYdzKvEvB9YZiXFvWqsPGKfnqjb62t4cIlu4RGH6psm/ks2h+Cfq1YuFUXVN
XwP8XInpSMw1wYKFQjbi0sq8irPyFK+NeK3d0qdPnM2vOW1lp4t4j0egcD8u
q0hd3HxzeD5K/gvuev5etxYAAA==

-->

</rfc>

