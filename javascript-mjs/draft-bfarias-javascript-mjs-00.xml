<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-bfarias-javascript-mjs-00" category="info" updates="4329">

  <front>
    <title>ECMAScript Media Types Updates</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>
    <author initials="M." surname="Miller" fullname="Matthew A. Miller">
      <organization>Mozilla</organization>
      <address>
        <email>linuxwolf+ietf@outer-planes.net</email>
      </address>
    </author>

    <date year="2017"/>

    <area>ART</area>
    
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes updates to the ECMAScript media types, superseding the existing registrations for “application/javascript” and “text/javascript” by adding an additional extension and removing usage warnings.  This document updates RFC4329, “Scripting Media Types”.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bfarias/I-D/labels/javascript-mjs">https://github.com/bfarias/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bfarias/I-D/tree/master/javascript-mjs">https://github.com/bfarias/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bfarias/I-D/commits/master/javascript-mjs">https://github.com/bfarias/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates the existing media types for the ECMAScript programming language. It supersedes the media types registrations in <xref target="RFC4329"/> for “application/javascript” and “text/javascript”.</t>

</section>
<section anchor="background" title="Background">

<t>In order to formalize support for modular programs <xref target="ECMA-262"/> now defines two top-level goal symbols for the ECMAScript grammar. This means that (in the absence of additional information) there are two possible interpretations for any given ECMAScript Source Text. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"/>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"/>. Finally, the <xref target="HTML"/> specification is using text/javascript as the default media type of ECMAScript when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  text</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.1 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;</t>
</list></t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  application</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.2 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;.</t>
</list></t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262.htm">
  <front>
    <title>Standard ECMA-262: ECMAScript Language Specification</title>
    <author >
      <organization>Ecma International</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>

    <references title='Informative References'>

<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>


<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
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
4xEo3I+LMlIXN98Mng+SPwCN0pV7ThcAAA==

-->

</rfc>

