<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-bfarias-json-home-00" category="info" updates="4329">

  <front>
    <title>EMCAScript Media Types Updates</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>

    <date year="2017"/>

    <area>ART</area>
    
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes updates to the  media types, superseding the existing registrations for “application/javascript” and “text/javascript” by adding an additional extension and removing usage warnings.  This document updates RFC4329, “Scripting Media Types”.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bfarias/I-D/labels/javascript-mjs">https://github.com/bfarias/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bfarias/I-D/tree/master/javascript-mjs">https://github.com/bfarias/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bfarias/I-D/commits/master/javascript-mjs">https://github.com/bfarias/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates the existing media types for the ECMAScript programming language. It supersedes the media types registrations in <xref target="RFC4329"/> for “application/javascript” and “text/javascript”.</t>

</section>
<section anchor="background" title="Background">

<t>In order to formalize support for modular programs <xref target="ECMA-262"/> now defines two top-level goal symbols for the ECMAScript grammar. This means that (in the absence of additional information) there are two possible interpretations for any given ECMAScript Source Text. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"/>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"/>. Finally, the <xref target="HTML"/> specification is using text/javascript as the default media type of  when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  text</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.1 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;</t>
</list></t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  application</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.2 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;.</t>
</list></t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262.htm">
  <front>
    <title>Standard ECMA-262: ECMAScript Language Specification</title>
    <author >
      <organization>Ecma International</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>

    <references title='Informative References'>

<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>


<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
H4sIAM5rk1kAA+1XYXPbuBH9zl+BcWbaZGpKsZ1rG/Xm5hRHubi14qulTK6T
3ORAEiIRkwAPAK3oMvnvfbugZMrnXDL92Ek+OBQJLN7uvn27SNM0CTrUaiJm
89PpIne6DWKuCi3FctMqL162hQzKJzLLnLqeJIXNjWywvnByFdJsJZ2WPn3n
rUkr26j04cOEdkzE8cOjvyU5HkvrNhOhzcomiW7dJJFOyYmYXi6TtXVXpbNd
O0mu1Aa/iok4M0E5o0L6lE5IughgIh6dHD9OEh+kKd7K2hocYWzS6ol4HWx+
KPBHm0KZcCi8dcGplcfTpukfgtM5PuW2aWX/0GAxPmlTa6N+ThLZhcoCn0gT
gX/a4NQnI/GMXeRX0fUnTha12gw/WFdKo3+TQVsz4TeqkbqeiCyuHTUqv/q+
pHcjnMwrOqcnSWKsa7DtWtG2y2en5Gb/eHx0tH08eXh8gsVCzE7n0/T4r8fx
kB1i0YNAHvNG9jFkNLLmr32WDxYUP+mKG0P81Gf+XJqyk6USi1bleqVzNnHA
FmJWp13Z+RCTy3alK1WYiCqEdjIer9frkQKCVA8RjIBs3HZZ3Rv0Y9/D8GPC
SzhGVWjAD7BkFw8c8Hw5P/+kq6+eT5evfhi6R8vFub7WphRbT78QvAd6QKhH
Hq6P1pUM65JxN10ddIugjD0HCbYJa32vdaoFlVOZxg+Ed3l68jidn81n6dli
8XL2Sei0bi8v06IQv8i23YZo/E5ey2j3L40tulr9IhrdKNBcONXYayVkk+my
02HzzZcmiHxcq2wkXV4hwuwefo9p8cO/Hz06enzy+Oh4vF1a6lB1GfF1HPKT
x2NKLDI11t53yo9Pjo+TJEnTVMgM5YWqSpJlpb2ARnRUW6J1trUeKtIXMYEP
lRKiYYUJpDAoza5VzuMNkkZf1XvtKcrws9RkmCkjQAxxcHeEDgRSLQ6Ceh/2
3mYbIQu2Kw0/RTrihKCMxzPv43DSos4T9dfSGfzyI2Rzz5utE32RHqKYtoQY
SubBKAbF2KDevqA/wb69VLKAkxQgJWL8RA3n2KvAx5DaiRxAM4W3HYDJIL69
Ixe95o7P0qfjWmaq9gOn0+ad/24Uz2ksDnAqJ/D37Qo+H4rOcB36ShUP+jNx
+BecBEFV40Z6lPUdx13GU/IKAgLXUBbsnvoiJ0iKdfCftk7hbHQBIQXh7pG6
OZRETtm8Tbkd04ZEGtCtD7gaqh5oWjoJDFha9wo4Emdhx8ze3tDMPje1ER8+
9Lz4+PF/oOqIHXsic26HpkiSMwOlAGeoZlgTa/2bIkQtmhufwLIg3Ra+B4St
qAODsWtRqBU6G8CvUXe2TWt1rWpRWpQAGmNm6zvDwbGQbhTp3yhpyH3k8T7c
pLUod2VyJexqWFQ76bbmAS0DBYgGdDZEwOusBvOpK0A3w6CmpdmIEmpkhhgW
tnM4YYkwEQ7Fgil2XUNkttjw7sGeSoIHCgcgkSAeQx6mjNDYLnhdMHRA1E74
3Lb8k0YRRPCWgH/8iMyccY2gnm8coaR0db25OVBoRGOIm4wO0PWhDLQVFY7O
AWKJPqJzVngkXOzngHMFbyWt7VoIVm4RQljhCYhDg/nGOgUZ3YmRMtfaWcPj
jWioG3SeXSdIGfFvkCuCsCPajTfUACNT9p3yle3qgjyAIEgucCjl0kYRU7Dt
MQV+Ckwl0bfyCj3B0HGysPBVCqPWYqVrNRBmIB2h+jnHW1TbBsGwiHw9b4Zk
4TqC6vaThzi1BkuYbVEUMWdSrsGhg/nLxfLgMP4vXlzw8+Xs3y/PLmdP6Xnx
fHp+vnvYrlg8v3h5/vTmKb5PsPP0Yj6fvXgaN8+n/8F/XOwXPy7PLl5Mzw9i
uodyxRXChNiVBocUPlMIM6ZIwtpC0yDTEQ5eDtQnujVg2m3OR/tRGAv61Vod
eYjIY2xHfApE2fcj367K0CviFj8cBvdpDZm86ayHf5xK7XsoWB+BUDK5C2LJ
/iYv1ugVvMCpOLuTKa5pHSKpc+vwDUWxs9WX0bZ4YHUoiZjkNShRbw558YcP
NC1CKffdA8rOM9P2JZqSQtugqRIT4SDKdA7qBUSMEyFt7vcEWfp/RDGMRXrb
KGlWprCVJrqCSWAoOHEUWTnbiIsni4vz2XJGThLDLl4wB+7dtgUeEBi+oiTJ
hD8nyaLLwt7r4YZL9WunHY4DanwHAT2vASvQaS/avoZufUWTh3bRNUuh0FXM
zKPRUYz3rgsC5czklscvqBbJbt8u2QqR1sPsNq77S6hStqZPBqbpHsSmFyrH
/Sls7jK9GOD65veo+HIE1Xcy0/UfmKABjoFcI6e281ub/rbJbaPcEaKwKvaL
SK1NVK27WUnaXADVj9uxbJ+PjObN6zevcdxP+Pcz7qnTm8kCdVLpvGKBD/so
oh9989mJi/OsLtrnne8b0H50pnd2dDY2lyXkwXRNptx9/4AvaCDLWNLDs736
vfk8eocRn+qffs4l7ujB+iouZ8Ke2kLdLF/OfloiGMCJ5P0p3qJJMFDpLB/U
/3DT4L6w6hyV1u9wUvKmfOf6sxfTfm+fvD7/N0XGO2JdUUHstAZZNoMVRNdb
usaixkp008976fisFiHO/aXw83hPeahmz52taxU3nc0WP4g332rly++1Ciu6
zL35LirD3aPnbYEYrPo/0YnjrzrxVSe+6sRndWJ7p85w3+R5cppf4b5Yq6JU
PKjTTCnNFUdy0eGcSvzLgXVGYsib1uo9hui5qo2+steHyBauTpi5ad6vZHMo
/ol69WJhVF3T1wA/12I6EnNNsGChkI24tDKv4oQ8xWsjXmm38ukTZ/MrTlvZ
6SLe3hEo3IrLKlIX990cno+S/wIc2fwRvhYAAA==

-->

</rfc>

