<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-bfarias-json-home-00" category="info">

  <front>
    <title>.mjs File Extension for EcmaScript</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>

    <date year="2017"/>

    <area>General</area>
    
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes a new file extension be added to EcmaScript MIME types.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bfarias/I-D/labels/javascript-mjs">https://github.com/bfarias/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bfarias/I-D/tree/master/javascript-mjs">https://github.com/bfarias/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bfarias/I-D/commits/master/javascript-mjs">https://github.com/bfarias/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates existing media types for the ECMAScript programming language. It supercedes the media types in <xref target="RFC4329"></xref>.</t>

</section>
<section anchor="background" title="Background">

<t>In the <xref target="ECMA-262"></xref> 6th Edition of the ECMAScript language standard a new top level grammar was introduced for ECMAScript Modules. This now makes two possible top level grammars for any given Source Text of ECMAScript. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"></xref>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"></xref>. Finally, the <xref target="HTML"></xref> specification is using text/javascript as the default media type of EcmaScript when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t>Type name:               text
Subtype name:            javascript
Required parameters:     none
Optional parameters:     charset, see section 4.1 of <xref target="RFC4329"></xref>.
Encoding considerations:
  The same as the considerations in section 3.1 of <xref target="RFC3023"></xref>.</t>

<t>Security considerations: See section 5 of <xref target="RFC4329"></xref>.
Interoperability considerations:
  See notes in various sections of <xref target="RFC4329"></xref>.
  This media type does not specify the grammar of <xref target="ECMA-262"></xref> used.</t>

<t>Published specification: <xref target="ECMA-262"></xref>
Applications which use this media type:
  Script interpreters as discussed in <xref target="RFC4329"></xref>.</t>

<t>Additional information:</t>

<t>Magic number(s):             n/a
  File extension(s):           .js, .mjs
  Macintosh File Type Code(s): TEXT</t>

<t>Person &amp; email address to contact for further information:
  See Author’s Address section.</t>

<t>Intended usage:          COMMON
Restrictions on usage:   The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"></xref>
Author:                  See Author’s Address section.
Change controller:       The IESG.</t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t>Type name:               application
Subtype name:            javascript
Required parameters:     none
Optional parameters:     charset, see section 4.1 of <xref target="RFC4329"></xref>.
Encoding considerations:
  The same as the considerations in section 3.2 of <xref target="RFC3023"></xref>.</t>

<t>Security considerations: See section 5 of <xref target="RFC4329"></xref>.
Interoperability considerations:
  See notes in various sections of <xref target="RFC4329"></xref>.
  This media type does not specify the grammar of <xref target="ECMA-262"></xref> used.</t>

<t>Published specification: <xref target="ECMA-262"></xref>
Applications which use this media type:
  Script interpreters as discussed in <xref target="RFC4329"></xref>.</t>

<t>Additional information:</t>

<t>Magic number(s):             n/a
  File extension(s):           .js, .mjs
  Macintosh File Type Code(s): TEXT</t>

<t>Person &amp; email address to contact for further information:
  See Author’s Address section.</t>

<t>Intended usage:          COMMON
Restrictions on usage:   The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"></xref>
Author:                  See Author’s Address section.
Change controller:       The IESG.</t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262-arch.htm">
  <front>
    <title>Standard ECMA-262</title>
    <author >
      <organization>European Computer Manufacturers Association</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>



<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
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
bi/5LxbBDCt6FQAA

-->

</rfc>

