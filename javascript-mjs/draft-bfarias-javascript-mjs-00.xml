<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.3 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC4329 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4329.xml">
<!ENTITY RFC2119 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3023 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3023.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-bfarias-javascript-mjs-00" category="info" updates="4329">

  <front>
    <title>EMCAScript Media Types Updates</title>

    <author initials="B." surname="Farias" fullname="Bradley Farias">
      <organization></organization>
      <address>
        <email>bradley.meck@gmail.com</email>
      </address>
    </author>
    <author initials="M." surname="Miller" fullname="Matthew A. Miller">
      <organization>Mozilla</organization>
      <address>
        <email>linuxwolf+ietf@outer-planes.net</email>
      </address>
    </author>

    <date year="2017"/>

    <area>ART</area>
    
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document proposes updates to the ECMAScript media types, superseding the existing registrations for “application/javascript” and “text/javascript” by adding an additional extension and removing usage warnings.  This document updates RFC4329, “Scripting Media Types”.</t>



    </abstract>


    <note title="Note to Readers">


<t>The issues list for this draft can be found at <eref target="https://github.com/bfarias/I-D/labels/javascript-mjs">https://github.com/bfarias/I-D/labels/javascript-mjs</eref>.</t>

<t>The most recent (often, unpublished) draft is at <eref target="https://github.com/bfarias/I-D/tree/master/javascript-mjs">https://github.com/bfarias/I-D/tree/master/javascript-mjs</eref>.</t>

<t>Recent changes are listed at <eref target="https://github.com/bfarias/I-D/commits/master/javascript-mjs">https://github.com/bfarias/I-D/commits/master/javascript-mjs</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>This document updates the existing media types for the ECMAScript programming language. It supersedes the media types registrations in <xref target="RFC4329"/> for “application/javascript” and “text/javascript”.</t>

</section>
<section anchor="background" title="Background">

<t>In order to formalize support for modular programs <xref target="ECMA-262"/> now defines two top-level goal symbols for the ECMAScript grammar. This means that (in the absence of additional information) there are two possible interpretations for any given ECMAScript Source Text. The TC39 standards body for ECMAScript has determined that media types are outside of their scope of work <xref target="TC39-MIME-ISSUE"/>.</t>

<t>It is not possible to fully determine if a Source Text of ECMAScript is meant to be parsed in the Module or Script grammar goals based upon content alone. Therefore, scripting environments must use out of band information in order to determine what goal a Source Text should be treated as. To this end some scripting environments have chosen to adopt a new file extension of .mjs for determining the goal of a given Source Text.</t>

</section>
<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
“RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>

</section>
<section anchor="registration" title="Registration">

<t>The ECMAScript media types are to be updated to point to a non-vendor specific standard undated specification of ECMAScript. In addition, a new file extension of .mjs is to be added to the list of file extensions with the restriction that it must correspond to the Module grammar of <xref target="ECMA-262"/>. Finally, the <xref target="HTML"/> specification is using text/javascript as the default media type of ECMAScript when preparing script tags; therefore, text/javascript has been moved intended usage from OBSOLETE to COMMON.</t>

<section anchor="textjavascript" title="text/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  text</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.1 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;</t>
</list></t>

</section>
<section anchor="applicationjavascript" title="application/javascript">

<t><list style="hanging">
  <t hangText='Type name:'>
  application</t>
  <t hangText='Subtype name:'>
  javascript</t>
  <t hangText='Required parameters:'>
  none</t>
  <t hangText='Optional parameters:'>
  charset, see section 4.1 of <xref target="RFC4329"/>.</t>
  <t hangText='Encoding considerations:'>
  The same as the considerations in section 3.2 of <xref target="RFC3023"/>.</t>
  <t hangText='Security considerations:'>
  See section 5 of <xref target="RFC4329"/>.</t>
  <t hangText='Interoperability considerations:'>
  See notes in various sections of <xref target="RFC4329"/>. This media type does not specify the grammar of <xref target="ECMA-262"/> used.</t>
  <t hangText='Published specification:'>
  [[RFCXXXX]]</t>
  <t hangText='Applications which use this media type:'>
  Script interpreters as discussed in <xref target="RFC4329"/>.</t>
  <t hangText='Additional information:'>
        <list style="hanging">
        <t hangText='Magic number(s):'>
        n/a</t>
        <t hangText='File extension(s):'>
        .js, .mjs</t>
        <t hangText='Macintosh File Type Code(s):'>
        TEXT</t>
      </list>
  </t>
  <t hangText='Person &amp; email address to contact for further information:'>
  See Author’s Address section.</t>
  <t hangText='Intended usage:'>
  COMMON</t>
  <t hangText='Restrictions on usage:'>
  The file extension .mjs must be parsed using the Module grammar of <xref target="ECMA-262"/></t>
  <t hangText='Author:'>
  See Author’s Address section.</t>
  <t hangText='Change controller:'>
  IESG &lt;iesg@ietf.org&gt;.</t>
</list></t>

</section>
</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC4329;
&RFC2119;
&RFC3023;
<reference anchor="ECMA-262" target="http://www.ecma-international.org/publications/standards/Ecma-262.htm">
  <front>
    <title>Standard ECMA-262: ECMAScript Language Specification</title>
    <author >
      <organization>Ecma International</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>

    <references title='Informative References'>

<reference anchor="HTML" target="https://html.spec.whatwg.org/multipage/scripting.html#prepare-a-script">
  <front>
    <title>HTML Living Standard</title>
    <author >
      <organization>WHATWG</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>
<reference anchor="TC39-MIME-ISSUE" target="https://web.archive.org/web/20170814193912/https://github.com/tc39/ecma262/issues/322">
  <front>
    <title>Add `application/javascript+module` mime to remove ambiguity5</title>
    <author >
      <organization>TC39</organization>
    </author>
    <date year="2017" month="August"/>
  </front>
</reference>


    </references>


<section anchor="acknowledgements" title="Acknowledgements">

<t>Thanks to Suresh Krishnan, Alexey Melnikov, Mark Nottingham, James Snell, Matthew A. Miller, Adam Roach, and Allen Wirfs-Brock for guiding me through this process.</t>

</section>


  </back>

<!-- ##markdown-source:
H4sIAKtjlFkAA+1YXXPTSBZ916/oClW7UBPZJGF2Fu/UFCaYIbsxmY1NMVsw
xbSlttRE6tZ2t2IMxX+fc2/LthzCQO3jFnlIWlL3/Tz33NtJ0zQJOlRqJCbT
0/Esc7oJYqpyLcV83SgvXjS5DMoncrFw6nqU5DYzssb+3MllSBdL6bT06Vt5
LT2fTuu3Pr1/P6FjI3F8/+iHJMOysG49EtosbZLoxo0S6ZQcifHlPFlZd1U4
2zaj5Eqt8ZSPxJkJyhkV0iekJmmjFSPx4OT4YZL4IE3+RlbWQIWxSaNH4lWw
2aHAL21yZcKh8NYFp5Yeq3XdLYLTGT5ltm5kt6ixGZ+0qbRRvyWJbENpYZ9I
E4EfbaD18UA8ZT/5VfT/sZN5pdb9D9YV0uj3MmhrRvxG1VJXI7GIewe1yq4e
FfRuAM28o3V6X9d0IKa6qpTr6ZrKEEq1EuO9b3vqxNS+xyfZVwuP2ncrWy2/
0yosH9kWMU2bShrlB4htkhjrahy/VmTt5dNTim63PD462ixP7h+fjBKsJ6fT
cXr8t+Po2zZQojMGGMpq2aWOrZIVf+0QdjCjtEmX7wTxqkPduTRFKwslZo3K
9FJnLOKAJUQwjdui9SFiiuVKV6gwEmUIzWg4XK1WAwULUt23YADLhk27qDqB
fug7M/yQ7CU7BmWoAUuAcxsPKHg2n55/1tWXz8bzlz/33aPt4lxfa1OIjadf
abyH9TChGni4PliVMqwKtrtuq6AbBGUYiwuyydbqTuNUgwpKZRo/kL3z05OH
6fRsOknPZrMXk8+aTvv28jLOc/G7bJpNiIa7av6utnlbqd9FrWuF6hJO1fZa
CVkvdNHqsP7+axNEPq7UYiBdViLC7B6eh7T5/t+PHhw9PHl4dDzcbC10KNsF
lckwZCcPh5RYZGqovW+VH54cHydJkqapkAtUNYo5Seal9gL81FJJi8bZxnow
WMcdZDyKqI+4mnkuEM+BG9pGOY83SB/tU++0p3jD40KTCgaPAETEwe2xOhBI
ujgI6l3Ye7tYC5mzXGl4FYEJDUEZjzWf48DSptZTEaykM3jyA+R1z6+NO125
HqKsNtDoE/fBIIbH2KDePKdfwb65VDKHkxQqJWIkQRLIGHkVWA3Rrchg6ELh
bQvDZBA/3pKVjvmHZ+mTYSUXqvLD/Sbw0yDqqS0UOJWR8XftEj4fitZwRfpS
5fc6nVD+FZrA6GpYS48Cv0XdZdSSlaASuIYCYffUVzlBvUAH/3npFM5a52By
QO8O8ZxDcWSUzZvg22KuD6Qe3LqA76ERgC2chA3YWnVcOBBnYYvMTl5fzD42
tREfPnS4+Pjxf4DqgB17LDPuxyZPkjMDzgBmqHqYHSv9XpFFDbora2CCkG5j
vocJG3qHDcauRK6WaK0wfoUKtE1aqWtVicKiBNCZF7a6NRwcC+kGEf61kobc
Rx7vwk3ai8JXJlPCLvtFtSVxa+7RNkCAYEC6QQdeLyogn/oDGDT0alqatSjA
S6Zvw8y2DhrmCBPZoZg6xbZ/iIXN13y6d6aUwIGCAiQSwGOT+ykja9CJvc7Z
dJionfCZbfiRZiFE8AaVf/yIzJxxjaCed45QUtqqWu8UCo1o9O0moT3rulAG
OooKRw8BsEQX0SlzPRIu9nPAuYK3kva2DQgrswghpPAIxqHBgGWdAo1uyUiZ
a+2s4flK1NQXWs+uk0kLwl8vV2TCFmg7b6gVRqTsO+VL21Y5eQBCkFzgYMq5
jSSmINtb9KvPGFNKdLCsRHcwpE7mFr5KYTBhLXWlesQMSweofs7xxqpNg2Cz
CHwdbvpg4ToC63YziDi1BlsYbZEUMehSroGhg+mL2fzgMP4Vzy94fTn594uz
y8kTWs+ejc/Pt4vNjtmzixfnT3ar+D7BydOL6XTy/Ek8PB3/B3+42C9+mZ9d
PB+fH8R09+mKK4QBsS0NDil8phAuGCIJcwvNhQxHOHjZY5/o1u3NtSc/EmNO
T43VEYeIvDUp4pMjyr4b/rZVhl4Rj/j+WLgPa9DkrrMe/nkqte9Mwf5oCCWT
uyC27B/yYoVewRucipcHEsU1rUMEdWYdvqEotrK6MtoUD6T2KRFXCQ1IVOtD
3vzhA82NYMp992Bl6xlp+xRNSaFj4FSJ2bAX5RuFvioByTglkpjudJCF/0ek
xViuN8UTey0UjtKUlzMcDIUpDiVLZ2tx8Xh2cT6ZT8hdwtrFc0bDnZuygAgy
i28wSTLiz0kyaxdh73X/wKX6b6sd1MFqfAcUPe8BPtBzL5qumm58RbsHi9GN
T6HkVczRg8FRjPy2H8LKicksD2LgLyLgrnGyFIKvh9hNhPe3UM1sRJ/0RNPd
iEXPVIarXFjfJnrWs+v7T63iCxP438mFrv5EBI1ybMg1cmpbv5Hpb4rctMwt
NHKrYueIIFtH/rodn8TSOaz6ZTOg7SOTrXn96vUrqPsVP7/hyjzezRiomFJn
JVN92Lci+tG1oS3NOM88o33W+q4V7UdnfGtvZ2FTWYAoTFsvlLvr7/GlDWAZ
Slo83avk3efBWwz7xAT0OJUZTLG+jNsZsKc2V7vt88mvcwQDdiJ5f4k3a6IO
1DwTCXVC3D64QyxbR6X1iZ2UvDHfw/7qxbg72yWvy/+uyPhErCsqiC3rIMum
t4PgeoPhmN6Yk3advSORL7IS4txdFL9s7ymP1+y5s/TfCD50Npn9LF7/qJUv
HtG/G+iC9/qnyAy3D6E3CaK36/+EJ46/8cQ3nvjGE1/kic3teoGbJ0+W4+wK
N8dK5YXikZ2mS2muOJKzFnpK8S8H1BmJcW9cqXcYp6eqMvrKXh8iW7hEYfqm
yb+U9aH4J+rVi5lRVXX46T9TISGXtbi0MivjrDzGayNearf06WNnsytOW9Hq
PN7jESjcj4syQhc33wyeD5I/AFbltblOFwAA

-->

</rfc>

